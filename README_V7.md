–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, —è –≤–∏–∂—É —ç–≤–æ–ª—é—Ü–∏—é —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é GitLab –æ—Ç V2 –¥–æ V6. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–º —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é V7, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω–∏—Ç –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–∑ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π –∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è.

# üöÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ GitLab —Å GitLab Runner –∏ SonarQube –≤ Docker –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–µ—à–µ–Ω–∏—è)
3. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
4. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
5. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
6. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
8. [–°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞)
9. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CI/CD —Å SonarQube](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-cicd-—Å-sonarqube)
10. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∏-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
11. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
12. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ GitLab, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (CSS, HTML, PHP, JavaScript), –≤–º–µ—Å—Ç–µ —Å GitLab Runner –∏ SonarQube –≤ —Å—Ä–µ–¥–µ Docker. –ú—ã –Ω–∞—Å—Ç—Ä–æ–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω CI/CD, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥, –≤–∫–ª—é—á–∞—è –∞–Ω–∞–ª–∏–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ LESS, —Å –ø–æ–º–æ—â—å—é SonarQube –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –µ–≥–æ.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ V7:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ WSL2 –∏ Linux
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –°–µ—Ç–µ–≤–∞—è —Å—Ö–µ–º–∞

```
+-----------------------------------------------------------------------+
| Docker Host (WSL2 Ubuntu / –§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä)                         |
|                                                                       |
|  +----------------+      +------------------+      +---------------+  |
|  | GitLab         |      | GitLab Runner    |      | SonarQube     |  |
|  | 192.168.56.10  |      | 192.168.56.30    |      | 192.168.56.20 |  |
|  | gitlab.localdomain|   |                  |      | sonarqube.localdomain|
|  | Ports: 80,443,2224 |  |                  |      | Port: 9000    |  |
|  +----------------+      +------------------+      +---------------+  |
|                                                                       |
|                  Docker Network: 192.168.56.0/24                     |
+-----------------------------------------------------------------------+
```

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–¥–ª—è 4 —è–¥–µ—Ä / 16GB):
- **GitLab**: 3GB RAM, 1.5 CPU ‚¨áÔ∏è
- **SonarQube**: 2GB RAM, 1.0 CPU ‚¨áÔ∏è
- **Runner**: 512MB RAM, 0.5 CPU ‚¨áÔ∏è
- **–í—Å–µ–≥–æ**: 5.5GB RAM, 3.0 CPU ‚¨áÔ∏è

### WSL2 –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **–ü–∞–º—è—Ç—å**: 12GB (–≤–º–µ—Å—Ç–æ 10GB)
- **–Ø–¥—Ä–∞**: 3 (–≤–º–µ—Å—Ç–æ 4)
- **Swap**: 4GB (–≤–º–µ—Å—Ç–æ 2GB)

–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–µ—Å–ø–µ—á–∞—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ 4-—è–¥–µ—Ä–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏! üöÄ
---

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–î–ª—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º:**
- Docker 20.10+ –∏ Docker Compose 2.0+
- 10 –ì–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 12 –ì–ë)
- –ë–æ–ª–µ–µ 20 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–î–ª—è WSL2:**
- Windows 10/11 —Å WSL2
- Ubuntu 20.04+ –∏–∑ Microsoft Store
- Docker Desktop —Å WSL2 integration

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
free -h

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞
df -h

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
docker --version
docker-compose --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–¥–ª—è Linux)
grep -E --color '(vmx|svm)' /proc/cpuinfo
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è



---

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WSL2 –¥–ª—è 4 —è–¥–µ—Ä / 16GB RAM

```bash
#!/bin/bash
# optimize-wsl2-4core.sh

echo "‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø WSL2 –î–õ–Ø –°–ò–°–¢–ï–ú–´ –° 4 –Ø–î–†–ê–ú–ò –ò 16GB RAM"

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å –∏ —è–¥—Ä–∞
TOTAL_MEMORY_GB=15.8
TOTAL_CORES=4
TOTAL_THREADS=4

echo "üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã:"
echo "   ‚Ä¢ –Ø–¥—Ä–∞: $TOTAL_CORES"
echo "   ‚Ä¢ –ü–æ—Ç–æ–∫–∏: $TOTAL_THREADS" 
echo "   ‚Ä¢ –ü–∞–º—è—Ç—å: ${TOTAL_MEMORY_GB}GB"
echo ""

# –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
WSL_MEMORY=$(( ${TOTAL_MEMORY_GB%.*} - 4 ))  # –û—Å—Ç–∞–≤–ª—è–µ–º 4GB –¥–ª—è Windows
WSL_PROCESSORS=$(( TOTAL_CORES - 1 ))         # –û—Å—Ç–∞–≤–ª—è–µ–º 1 —è–¥—Ä–æ –¥–ª—è Windows
WSL_SWAP=$(( WSL_MEMORY / 2 ))                # Swap = 50% –æ—Ç –ø–∞–º—è—Ç–∏

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
if [ $WSL_MEMORY -gt 12 ]; then
    WSL_MEMORY=12
fi
if [ $WSL_PROCESSORS -gt 3 ]; then
    WSL_PROCESSORS=3
fi
if [ $WSL_SWAP -gt 4 ]; then
    WSL_SWAP=4
fi

echo "üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WSL2:"
echo "   ‚Ä¢ –ü–∞–º—è—Ç—å: ${WSL_MEMORY}GB"
echo "   ‚Ä¢ –Ø–¥—Ä–∞: ${WSL_PROCESSORS}"
echo "   ‚Ä¢ Swap: ${WSL_SWAP}GB"
echo ""

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WSL2
cat > /mnt/c/Users/$USER/.wslconfig << EOF
[wsl2]
# –†–µ—Å—É—Ä—Å—ã –¥–ª—è WSL2 (–æ—Å—Ç–∞–≤–ª—è–µ–º —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è Windows)
memory=${WSL_MEMORY}GB
processors=${WSL_PROCESSORS}
swap=${WSL_SWAP}GB
swapfile=%USERPROFILE%\\\\wsl-swap.vhdx

# –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
localhostForwarding=true
dnsTunneling=true
firewall=true
autoProxy=true

# –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
pageReporting=true
kernelCommandLine=intel_pstate=disable

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
vmIdleTimeout=3600000

# –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
[experimental]
autoMemoryReclaim=dropcache
sparseVhd=true
dnsTunneling=true
hostAddressLoopback=true
EOF

echo "‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WSL2 –ø—Ä–∏–º–µ–Ω–µ–Ω–∞:"
cat /mnt/c/Users/$USER/.wslconfig

echo ""
echo "üîÅ –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:"
echo "   wsl --shutdown"
echo "   wsl"
echo ""
echo "üí° –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ WSL –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:"
echo "   cat /proc/meminfo | grep -i memtotal"
echo "   nproc"
```
## –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã
```bash
#!/bin/bash
# system-optimizer.sh

echo "üîß –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´ –î–õ–Ø 4 –Ø–î–ï–† / 16GB RAM"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
echo "üìä –¢–ï–ö–£–©–ò–ï –†–ï–°–£–†–°–´ WSL2:"
echo "   ‚Ä¢ –Ø–¥—Ä–∞: $(nproc)"
echo "   ‚Ä¢ –ü–∞–º—è—Ç—å: $(grep MemTotal /proc/meminfo | awk '{print int($2/1024/1024)" GB"}')"
echo "   ‚Ä¢ Swap: $(grep SwapTotal /proc/meminfo | awk '{print int($2/1024/1024)" GB"}')"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker
echo ""
echo "üê≥ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï DOCKER:"
docker system df

# –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
echo ""
echo "üéØ –†–ê–°–ß–ï–¢ –û–ü–¢–ò–ú–ê–õ–¨–ù–´–• –ù–ê–°–¢–†–û–ï–ö:"

TOTAL_MEMORY_GB=15.8
TOTAL_CORES=4

# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ª–∏–º–∏—Ç—ã (–æ—Å—Ç–∞–≤–ª—è–µ–º —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è Windows)
WSL_MEMORY=10
WSL_PROCESSORS=3
WSL_SWAP=4

GITLAB_MEMORY=3
GITLAB_CPUS=1.5

SONARQUBE_MEMORY=2
SONARQUBE_CPUS=1.0

RUNNER_MEMORY=0.5
RUNNER_CPUS=0.5

echo "   WSL2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:"
echo "   ‚Ä¢ –ü–∞–º—è—Ç—å: ${WSL_MEMORY}GB"
echo "   ‚Ä¢ –Ø–¥—Ä–∞: ${WSL_PROCESSORS}"
echo "   ‚Ä¢ Swap: ${WSL_SWAP}GB"
echo ""
echo "   Docker –°–µ—Ä–≤–∏—Å—ã:"
echo "   ‚Ä¢ GitLab: ${GITLAB_MEMORY}GB RAM, ${GITLAB_CPUS} CPU"
echo "   ‚Ä¢ SonarQube: ${SONARQUBE_MEMORY}GB RAM, ${SONARQUBE_CPUS} CPU"
echo "   ‚Ä¢ Runner: ${RUNNER_MEMORY}GB RAM, ${RUNNER_CPUS} CPU"
echo ""
echo "   üí° –û–ë–©–ï–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:"
TOTAL_USED=$((GITLAB_MEMORY + SONARQUBE_MEMORY + RUNNER_MEMORY))
echo "   ‚Ä¢ –ü–∞–º—è—Ç—å: ${TOTAL_USED}GB / ${WSL_MEMORY}GB ($((TOTAL_USED * 100 / WSL_MEMORY))%)"
echo "   ‚Ä¢ CPU: $((GITLAB_CPUS + SONARQUBE_CPUS + RUNNER_CPUS)) / ${WSL_PROCESSORS} —è–¥–µ—Ä"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WSL
echo ""
echo "üîç –ü–†–û–í–ï–†–ö–ê –¢–ï–ö–£–©–ï–ô –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò WSL:"
if [ -f "/mnt/c/Users/$USER/.wslconfig" ]; then
    echo "‚úÖ –§–∞–π–ª .wslconfig –Ω–∞–π–¥–µ–Ω:"
    grep -E "(memory|processors|swap)" /mnt/c/Users/$USER/.wslconfig
else
    echo "‚ùå –§–∞–π–ª .wslconfig –Ω–µ –Ω–∞–π–¥–µ–Ω"
fi

# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
echo ""
echo "üöÄ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –î–ï–ô–°–¢–í–ò–Ø:"
echo "   1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: ./optimize-wsl2-4core.sh"
echo "   2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ WSL: wsl --shutdown && wsl"
echo "   3. –û–±–Ω–æ–≤–∏—Ç–µ docker-compose.yml —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏"
echo "   4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã: docker-compose up -d"
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
mkdir -p ~/gitlab-setup
cd ~/gitlab-setup
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ hosts —Ñ–∞–π–ª–∞

```bash
#!/bin/bash
# setup-hosts.sh

echo "=== –ù–ê–°–¢–†–û–ô–ö–ê HOSTS –§–ê–ô–õ–ê ==="

HOSTS_FILE="/etc/hosts"
BACKUP_FILE="${HOSTS_FILE}.backup.$(date +%Y%m%d%H%M%S)"

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
sudo cp $HOSTS_FILE $BACKUP_FILE
echo "üì¶ –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è: $BACKUP_FILE"

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
sudo sed -i '/192.168.56/d' $HOSTS_FILE

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
sudo tee -a $HOSTS_FILE << EOL

# GitLab Infrastructure
192.168.56.10    gitlab.localdomain
192.168.56.20    sonarqube.localdomain
EOL

echo "‚úÖ Hosts —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
echo "üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–µ–π:"
grep "192.168.56" $HOSTS_FILE
```

---

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π V7 —Å–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è quick-deploy-4core.sh

```bash
#!/bin/bash
# quick-deploy-4core.sh

echo "üöÄ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –î–õ–Ø 4-–Ø–î–ï–†–ù–û–ô –°–ò–°–¢–ï–ú–´"

set -e

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
echo "üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤..."
CORES=$(nproc)
MEMORY_GB=$(grep MemTotal /proc/meminfo | awk '{print int($2/1024/1024)}')

echo "   ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ —è–¥–µ—Ä: $CORES"
echo "   ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω–æ –ø–∞–º—è—Ç–∏: ${MEMORY_GB}GB"

if [ $MEMORY_GB -lt 10 ]; then
    echo "‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: –ú–∞–ª–æ –ø–∞–º—è—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 10GB –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã."
fi

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p ~/gitlab-setup
cd ~/gitlab-setup

echo "üì• –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..."

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ docker-compose.yml
cat > docker-compose.yml << 'EOF'
version: '3.8'

services:
  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    hostname: gitlab.localdomain
    restart: unless-stopped
    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://gitlab.localdomain'
        gitlab_rails['gitlab_shell_ssh_port'] = 2224
        # üîß –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –î–õ–Ø 4-–Ø–î–ï–†–ù–û–ô –°–ò–°–¢–ï–ú–´
        prometheus_monitoring['enable'] = false
        puma['worker_processes'] = 2
        puma['min_threads'] = 1
        puma['max_threads'] = 2
        sidekiq['max_concurrency'] = 3
        nginx['worker_processes'] = 1
        nginx['worker_connections'] = 512
        postgresql['shared_buffers'] = '256MB'
        redis['maxmemory'] = '128mb'
        redis['maxmemory_policy'] = 'allkeys-lru'
    ports:
      - "80:80"
      - "443:443"
      - "2224:22"
    volumes:
      - gitlab_config:/etc/gitlab
      - gitlab_logs:/var/log/gitlab
      - gitlab_data:/var/opt/gitlab
    networks:
      gitlab-network:
        ipv4_address: 192.168.56.10
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:80"]
      interval: 30s
      timeout: 10s
      retries: 20
      start_period: 600s
    mem_limit: 3g
    mem_reservation: 2g
    cpus: 1.5

  gitlab-runner:
    image: gitlab/gitlab-runner:latest
    container_name: gitlab-runner
    restart: unless-stopped
    depends_on:
      - gitlab
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - gitlab-runner-config:/etc/gitlab-runner
    networks:
      gitlab-network:
        ipv4_address: 192.168.56.30
    extra_hosts:
      - "gitlab.localdomain:192.168.56.10"
      - "sonarqube.localdomain:192.168.56.20"
    mem_limit: 512m
    cpus: 0.5

  sonarqube:
    image: sonarqube:9.9.1-community
    container_name: sonarqube
    hostname: sonarqube.localdomain
    restart: unless-stopped
    environment:
      SONAR_ES_BOOTSTRAP_CHECKS_DISABLE: "true"
      # üîß –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –î–õ–Ø 4-–Ø–î–ï–†–ù–û–ô –°–ò–°–¢–ï–ú–´
      SONAR_WEB_JAVAOPTS: "-Xmx512m -Xms256m -XX:MaxMetaspaceSize=128m"
      SONAR_CE_JAVAOPTS: "-Xmx512m -Xms256m -XX:MaxMetaspaceSize=128m"
      SONAR_SEARCH_JAVAOPTS: "-Xmx512m -Xms256m -XX:MaxMetaspaceSize=128m"
    ports:
      - "9000:9000"
    volumes:
      - sonarqube_data:/opt/sonarqube/data
      - sonarqube_extensions:/opt/sonarqube/extensions
      - sonarqube_logs:/opt/sonarqube/logs
    networks:
      gitlab-network:
        ipv4_address: 192.168.56.20
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:9000/api/system/status"]
      interval: 30s
      timeout: 10s
      retries: 10
      start_period: 180s
    mem_limit: 2g
    mem_reservation: 1g
    cpus: 1.0

volumes:
  gitlab_config:
  gitlab_logs:
  gitlab_data:
  gitlab-runner-config:
  sonarqube_data:
  sonarqube_extensions:
  sonarqube_logs:

networks:
  gitlab-network:
    driver: bridge
    ipam:
      config:
        - subnet: 192.168.56.0/24
          gateway: 192.168.56.1
EOF

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ hosts —Ñ–∞–π–ª–∞
echo "üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ hosts —Ñ–∞–π–ª–∞..."
sudo bash -c 'cat >> /etc/hosts << EOL
192.168.56.10    gitlab.localdomain
192.168.56.20    sonarqube.localdomain
EOL'

# –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
echo "üê≥ –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤..."
docker-compose up -d

echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤..."
sleep 30

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤..."
docker-compose ps

echo ""
echo "üéâ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!"
echo ""
echo "üìä –í–´–î–ï–õ–ï–ù–ù–´–ï –†–ï–°–£–†–°–´:"
echo "   ‚Ä¢ GitLab: 3GB RAM, 1.5 CPU"
echo "   ‚Ä¢ SonarQube: 2GB RAM, 1.0 CPU" 
echo "   ‚Ä¢ Runner: 512MB RAM, 0.5 CPU"
echo "   ‚Ä¢ –í—Å–µ–≥–æ: ~5.5GB RAM, 3.0 CPU"
echo ""
echo "üí° –î–ê–õ–¨–ù–ï–ô–®–ò–ï –î–ï–ô–°–¢–í–ò–Ø:"
echo "   1. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ WSL2: ./optimize-wsl2-4core.sh"
echo "   2. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∑–∞–ø—É—Å–∫: ./wait-gitlab-working.sh"
echo "   3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º—É: ./system-check.sh"
```


### –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞
docker-compose logs -f gitlab &

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –æ–∂–∏–¥–∞–Ω–∏—è GitLab

```bash
#!/bin/bash
# wait-for-gitlab.sh

echo "üéØ –£–õ–£–ß–®–ï–ù–ù–´–ô –ú–û–ù–ò–¢–û–†–ò–ù–ì –ó–ê–ü–£–°–ö–ê GITLAB"

check_gitlab_health() {
    local container_status=$(docker inspect gitlab --format='{{.State.Health.Status}}' 2>/dev/null)
    local http_status=$(curl -s -o /dev/null -w "%{http_code}" http://gitlab.localdomain 2>/dev/null)
    local logs_status=$(docker-compose logs gitlab 2>/dev/null | tail -5)
    
    echo "üìä –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: $container_status"
    echo "üåê HTTP —Å—Ç–∞—Ç—É—Å: $http_status"
    
    if [ "$http_status" = "200" ]; then
        return 0
    else
        return 1
    fi
}

get_root_password() {
    local password=$(docker-compose exec gitlab grep 'Password:' /etc/gitlab/initial_root_password 2>/dev/null | cut -d: -f2- | sed 's/^ *//;s/ *$//')
    
    if [ -n "$password" ]; then
        echo "üîê ROOT PASSWORD: $password"
        return 0
    else
        echo "‚ö†Ô∏è –ü–∞—Ä–æ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –º–µ—Å—Ç–µ"
        return 1
    fi
}

echo "‚è≥ –ù–∞—á–∞–ª–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—É—Å–∫–∞ GitLab..."
echo "üìù –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10-15 –º–∏–Ω—É—Ç..."

for i in {1..60}; do
    echo ""
    echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ #$i ($(date))"
    
    if check_gitlab_health; then
        echo ""
        echo "üéâ GITLAB –£–°–ü–ï–®–ù–û –ó–ê–ü–£–©–ï–ù!"
        echo ""
        
        # –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
        sleep 30
        
        echo "üîí –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è root..."
        if get_root_password; then
            echo ""
            echo "üöÄ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!"
            echo "üåê GitLab: http://gitlab.localdomain"
            echo "üë§ –õ–æ–≥–∏–Ω: root"
            echo "üîë –ü–∞—Ä–æ–ª—å: (—Å–º. –≤—ã—à–µ)"
        else
            echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
            echo "üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é: docker-compose exec gitlab cat /etc/gitlab/initial_root_password"
        fi
        
        exit 0
    fi
    
    echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ... (10 —Å–µ–∫—É–Ω–¥)"
    sleep 10
done

echo ""
echo "‚ùå –ü–†–ï–í–´–®–ï–ù–û –í–†–ï–ú–Ø –û–ñ–ò–î–ê–ù–ò–Ø"
echo "üí° GitLab –≤—Å–µ –µ—â–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é:"
echo "   docker-compose logs gitlab"
echo "   curl http://gitlab.localdomain"
exit 1
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitLab Runner

```bash
#!/bin/bash
# setup-runner.sh

echo "üîß –ù–ê–°–¢–†–û–ô–ö–ê GITLAB RUNNER"

# –û–∂–∏–¥–∞–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å GitLab
echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ GitLab..."
until curl -s http://gitlab.localdomain > /dev/null; do
    sleep 10
done

# –ü–æ–ª—É—á–µ–Ω–∏–µ registration token
echo "üìù –ü–æ–ª—É—á–µ–Ω–∏–µ registration token..."
REGISTRATION_TOKEN=$(docker-compose exec gitlab gitlab-rails runner -e production "puts Gitlab::CurrentSettings.current_application_settings.runners_registration_token")

if [ -z "$REGISTRATION_TOKEN" ]; then
    echo "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å registration token"
    echo "üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ GitLab"
    exit 1
fi

echo "‚úÖ Registration token –ø–æ–ª—É—á–µ–Ω"

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Runner
echo "üöÄ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è GitLab Runner..."
docker-compose exec gitlab-runner gitlab-runner register \
  --non-interactive \
  --url "http://gitlab.localdomain/" \
  --registration-token "$REGISTRATION_TOKEN" \
  --executor "docker" \
  --docker-image "alpine:latest" \
  --description "web-development-runner" \
  --tag-list "docker,linux,web,less" \
  --run-untagged="true" \
  --locked="false" \
  --docker-privileged="true" \
  --docker-volumes "/var/run/docker.sock:/var/run/docker.sock" \
  --docker-volumes "/cache" \
  --docker-volumes "/builds:/builds"

echo "‚úÖ GitLab Runner —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
echo "üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Runner..."
docker-compose exec gitlab-runner gitlab-runner list
```

---

## –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p ~/web-dev-project/{css,js,src/less,dist}
cd ~/web-dev-project
```

### –ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**package.json**
```json
{
  "name": "web-dev-project",
  "version": "1.0.0",
  "description": "Web development project with GitLab CI/CD",
  "scripts": {
    "build:less": "lessc src/less/main.less dist/css/main.css",
    "build:js": "uglify-js js/*.js -o dist/js/app.min.js",
    "build": "npm run build:less && npm run build:js",
    "test": "echo 'Running tests...'"
  },
  "devDependencies": {
    "less": "^4.1.3",
    "uglify-js": "^3.17.4"
  }
}
```

**src/less/main.less**
```less
// Variables
@primary-color: #3498db;
@secondary-color: #2ecc71;
@text-color: #2c3e50;
@background-color: #ecf0f1;

// Mixins
.border-radius(@radius: 5px) {
  border-radius: @radius;
  -webkit-border-radius: @radius;
  -moz-border-radius: @radius;
}

.box-shadow(@x: 0, @y: 2px, @blur: 5px, @color: rgba(0,0,0,0.1)) {
  box-shadow: @x @y @blur @color;
  -webkit-box-shadow: @x @y @blur @color;
  -moz-box-shadow: @x @y @blur @color;
}

// Base styles
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Arial', sans-serif;
  line-height: 1.6;
  color: @text-color;
  background-color: @background-color;
  padding: 20px;
}

.header {
  background: linear-gradient(135deg, @primary-color, @secondary-color);
  color: white;
  padding: 2rem;
  text-align: center;
  .border-radius(10px);
  .box-shadow(0, 4px, 15px, rgba(0,0,0,0.2));

  h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    
    &:hover {
      transform: scale(1.05);
      transition: transform 0.3s ease;
    }
  }
  
  p {
    font-size: 1.2rem;
    opacity: 0.9;
  }
}

.container {
  max-width: 1200px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin: 2rem 0;
}

.card {
  background: white;
  padding: 1.5rem;
  .border-radius(8px);
  .box-shadow();
  
  h3 {
    color: @primary-color;
    margin-bottom: 1rem;
  }
  
  p {
    color: lighten(@text-color, 20%);
  }
}

.button {
  display: inline-block;
  background-color: @primary-color;
  color: white;
  padding: 0.8rem 1.5rem;
  text-decoration: none;
  .border-radius(5px);
  .box-shadow(0, 2px, 5px, rgba(0,0,0,0.2));
  
  &:hover {
    background-color: darken(@primary-color, 10%);
    transform: translateY(-2px);
    transition: all 0.3s ease;
  }
}

// Responsive design
@media (max-width: 768px) {
  .header h1 {
    font-size: 2rem;
  }
  
  .grid {
    grid-template-columns: 1fr;
  }
}
```

**index.html**
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Development Project</title>
    <link rel="stylesheet" href="dist/css/main.css">
</head>
<body>
    <header class="header">
        <h1>üöÄ Web Development Project</h1>
        <p>GitLab CI/CD + SonarQube + LESS Compilation</p>
    </header>

    <div class="container">
        <section class="grid">
            <div class="card">
                <h3>HTML5</h3>
                <p>Modern semantic markup with accessibility features.</p>
            </div>
            
            <div class="card">
                <h3>CSS3/LESS</h3>
                <p>Advanced styling with variables, mixins, and responsive design.</p>
            </div>
            
            <div class="card">
                <h3>JavaScript</h3>
                <p>Interactive features and modern ES6+ syntax.</p>
            </div>
        </section>

        <section class="features">
            <h2>CI/CD Pipeline Features</h2>
            <div class="grid">
                <div class="card">
                    <h3>‚úÖ Code Quality</h3>
                    <p>Automatic code analysis with SonarQube</p>
                </div>
                
                <div class="card">
                    <h3>üîß LESS Compilation</h3>
                    <p>Automated LESS to CSS compilation</p>
                </div>
                
                <div class="card">
                    <h3>üöÄ Deployment</h3>
                    <p>Automated testing and deployment</p>
                </div>
            </div>
        </section>

        <div style="text-align: center; margin: 3rem 0;">
            <a href="#" class="button">Get Started</a>
            <a href="#" class="button" style="background-color: #2ecc71;">View Demo</a>
        </div>
    </div>

    <script src="dist/js/app.min.js"></script>
</body>
</html>
```

**js/app.js**
```javascript
// Main application JavaScript
class WebApp {
    constructor() {
        this.init();
    }

    init() {
        console.log('üöÄ Web Application Initialized');
        this.setupEventListeners();
        this.loadFeatures();
    }

    setupEventListeners() {
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Card hover effects
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mouseenter', this.animateCard);
            card.addEventListener('mouseleave', this.resetCard);
        });
    }

    animateCard(e) {
        this.style.transform = 'translateY(-5px)';
        this.style.transition = 'transform 0.3s ease';
    }

    resetCard(e) {
        this.style.transform = 'translateY(0)';
    }

    loadFeatures() {
        // Dynamic feature loading
        const features = [
            'Code Quality Analysis',
            'LESS Compilation',
            'Automated Testing',
            'CI/CD Pipeline'
        ];

        console.log('üìã Available Features:', features);
    }
}

// Initialize application when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    new WebApp();
});

// Utility functions
const utils = {
    debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    },

    throttle(func, limit) {
        let inThrottle;
        return function(...args) {
            if (!inThrottle) {
                func.apply(this, args);
                inThrottle = true;
                setTimeout(() => inThrottle = false, limit);
            }
        };
    }
};
```

---

–ü—Ä–æ–¥–æ–ª–∂–∞—é —Å CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π SonarQube –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CI/CD —Å SonarQube

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SonarQube –¥–ª—è –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

```bash
#!/bin/bash
# setup-sonarqube.sh

echo "üîß –ù–ê–°–¢–†–û–ô–ö–ê SONARQUBE –î–õ–Ø –í–ï–ë-–†–ê–ó–†–ê–ë–û–¢–ö–ò"

echo "üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ SonarQube:"
echo ""
echo "1. üåê –û—Ç–∫—Ä–æ–π—Ç–µ: http://sonarqube.localdomain:9000"
echo "2. üîê –í–æ–π–¥–∏—Ç–µ: admin/admin"
echo "3. üîí –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –Ω–∞ 'Netology2024!'"
echo "4. üì¶ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω—ã:"
echo "   ‚Ä¢ SonarCSS (–¥–ª—è CSS/LESS –∞–Ω–∞–ª–∏–∑–∞)"
echo "   ‚Ä¢ SonarHTML (–¥–ª—è HTML –∞–Ω–∞–ª–∏–∑–∞)" 
echo "   ‚Ä¢ SonarPHP (–¥–ª—è PHP –∞–Ω–∞–ª–∏–∑–∞)"
echo "   ‚Ä¢ SonarJS (—É–∂–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)"
echo "5. üé´ –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω:"
echo "   ‚Ä¢ My Account ‚Üí Security ‚Üí Generate Token"
echo "   ‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ: gitlab-web-token"
echo "   ‚Ä¢ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞"
echo ""
echo "‚ö†Ô∏è  –ó–ê–ü–ò–®–ò–¢–ï –¢–û–ö–ï–ù: ________________"

read -p "–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SonarQube..."
```

### .gitlab-ci.yml –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```yaml
# .gitlab-ci.yml - –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
stages:
  - test
  - quality
  - build
  - deploy

variables:
  SONAR_USER_HOME: "${CI_PROJECT_DIR}/.sonar"
  GIT_DEPTH: "0"
  NODE_VERSION: "18"

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–æ–∫
cache:
  key: "${CI_COMMIT_REF_SLUG}"
  paths:
    - node_modules/
    - .sonar/cache
    - dist/

# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ SonarQube
sonarqube-analysis:
  stage: quality
  image: 
    name: sonarsource/sonar-scanner-cli:latest
    entrypoint: [""]
  variables:
    SONAR_SCANNER_OPTS: "-Xmx512m"
  before_script:
    # –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω
    - echo "192.168.56.20 sonarqube.localdomain" >> /etc/hosts
    - ping -c 2 sonarqube.localdomain
  script:
    - echo "üîç –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ SonarQube..."
    - sonar-scanner
      -Dsonar.projectKey=${CI_PROJECT_NAME}
      -Dsonar.projectName=${CI_PROJECT_NAME}
      -Dsonar.projectVersion=${CI_COMMIT_SHORT_SHA}
      -Dsonar.host.url=${SONAR_HOST_URL}
      -Dsonar.token=${SONAR_TOKEN}
      -Dsonar.sources=.
      -Dsonar.sourceEncoding=UTF-8
      -Dsonar.exclusions=node_modules/**,dist/**,**/*.min.js
      -Dsonar.tests=./tests
      -Dsonar.test.inclusions=**/*.test.js
      -Dsonar.javascript.lcov.reportPaths=coverage/lcov.info
      -Dsonar.coverage.exclusions=**/*.test.js,tests/**,node_modules/**
  artifacts:
    reports:
      codequality: gl-sonar-report.json
    paths:
      - .sonar/cache
    expire_in: 1 week
  allow_failure: false
  only:
    - main
    - merge_requests
  tags:
    - web
    - docker

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
install-dependencies:
  stage: test
  image: node:${NODE_VERSION}-alpine
  before_script:
    - apk add --no-cache git
  script:
    - echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Node.js..."
    - npm ci --cache .npm --prefer-offline
    - npm audit --audit-level moderate
  cache:
    key: "node-modules-${CI_COMMIT_REF_SLUG}"
    paths:
      - node_modules/
      - .npm/
  artifacts:
    paths:
      - node_modules/
    expire_in: 1 hour
  only:
    - main
    - merge_requests
  tags:
    - web
    - docker

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è LESS
compile-less:
  stage: build
  image: node:${NODE_VERSION}-alpine
  dependencies:
    - install-dependencies
  before_script:
    - apk add --no-cache less
  script:
    - echo "üé® –ö–æ–º–ø–∏–ª—è—Ü–∏—è LESS –≤ CSS..."
    - mkdir -p dist/css
    - npx lessc src/less/main.less dist/css/main.css --clean-css
    - npx lessc src/less/main.less dist/css/main.min.css --clean-css="--s1 --advanced"
    - echo "‚úÖ LESS —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ"
    - ls -la dist/css/
  artifacts:
    name: "compiled-css"
    paths:
      - dist/css/
    expire_in: 1 week
  only:
    - main
    - merge_requests
  tags:
    - web
    - docker

# –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è JavaScript
minify-js:
  stage: build
  image: node:${NODE_VERSION}-alpine
  dependencies:
    - install-dependencies
  script:
    - echo "‚ö° –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è JavaScript..."
    - mkdir -p dist/js
    - npx uglify-js js/app.js -o dist/js/app.min.js --compress --mangle
    - echo "‚úÖ JavaScript –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ"
    - ls -la dist/js/
  artifacts:
    name: "minified-js"
    paths:
      - dist/js/
    expire_in: 1 week
  only:
    - main
  tags:
    - web
    - docker

# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML
html-validation:
  stage: test
  image: node:${NODE_VERSION}-alpine
  before_script:
    - apk add --no-cache curl
    - npm install -g html-validator
  script:
    - echo "üìÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ HTML..."
    - curl -s http://localhost:8080 2>/dev/null || cat index.html | html-validator --format=text
    - echo "‚úÖ HTML –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
  allow_failure: true
  only:
    - main
    - merge_requests
  tags:
    - web
    - docker

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
build-project:
  stage: build
  image: node:${NODE_VERSION}-alpine
  dependencies:
    - compile-less
    - minify-js
  script:
    - echo "üèóÔ∏è –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞..."
    - mkdir -p dist/assets
    - cp index.html dist/
    - cp -r images/ dist/ 2>/dev/null || true
    - echo "üìä –†–∞–∑–º–µ—Ä –∏—Ç–æ–≥–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:"
    - du -sh dist/
    - find dist/ -type f -name "*.css" -o -name "*.js" | xargs ls -lh
  artifacts:
    name: "web-project-build"
    paths:
      - dist/
    expire_in: 2 weeks
  only:
    - main
  tags:
    - web
    - docker

# –î–µ–ø–ª–æ–π –≤ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–ø—Ä–∏–º–µ—Ä)
deploy-staging:
  stage: deploy
  image: alpine:latest
  dependencies:
    - build-project
  before_script:
    - apk add --no-cache curl
  script:
    - echo "üöÄ –î–µ–ø–ª–æ–π –≤ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ..."
    - echo "üìÅ –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:"
    - ls -la dist/
    - echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω (–∑–∞–≥–ª—É—à–∫–∞)"
  environment:
    name: staging
    url: http://staging.example.com
  only:
    - main
  when: manual
  tags:
    - web
    - docker

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–µ
notify-success:
  stage: deploy
  image: alpine:latest
  script:
    - echo "üéâ –ü–∞–π–ø–ª–∞–π–Ω —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!"
    - echo "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:"
    - echo "   - –ö–æ–º–º–∏—Ç: ${CI_COMMIT_SHORT_SHA}"
    - echo "   - –í–µ—Ç–∫–∞: ${CI_COMMIT_REF_NAME}"
    - echo "   - –ê–≤—Ç–æ—Ä: ${CI_COMMIT_AUTHOR}"
  only:
    - main
  when: on_success
  tags:
    - web
    - docker
```

### sonar-project.properties

```properties
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SonarQube –¥–ª—è –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞
sonar.projectKey=web-dev-project
sonar.projectName=Web Development Project
sonar.projectVersion=1.0

# –ü—É—Ç–∏ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É
sonar.sources=.,src,js
sonar.tests=./tests

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è
sonar.exclusions=node_modules/**,dist/**,**/*.min.js,**/*.min.css

# –ö–æ–¥–∏—Ä–æ–≤–∫–∞
sonar.sourceEncoding=UTF-8

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
sonar.html.file.suffixes=.html,.htm
sonar.css.file.suffixes=.css,.less
sonar.js.file.suffixes=.js

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è LESS –∞–Ω–∞–ª–∏–∑–∞
sonar.less.parser.less=src/less/main.less

# –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞
sonar.projectDescription=Web development project with GitLab CI/CD and SonarQube analysis
sonar.links.homepage=http://gitlab.localdomain/root/web-dev-project
sonar.links.ci=http://gitlab.localdomain/root/web-dev-project/-/pipelines
sonar.links.scm=http://gitlab.localdomain/root/web-dev-project.git
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã

```bash
#!/bin/bash
# system-check.sh

echo "=== üîç –ö–û–ú–ü–õ–ï–ö–°–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ò–°–¢–ï–ú–´ ==="
echo "–í–µ—Ä—Å–∏—è: V7 - $(date)"
echo ""

cd ~/gitlab-setup

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker —Å–µ—Ä–≤–∏—Å–æ–≤
echo "1. üê≥ –ü–†–û–í–ï–†–ö–ê DOCKER –°–ï–†–í–ò–°–û–í"
echo "----------------------------------------"
docker-compose ps
echo ""

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
echo "2. üìä –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –†–ï–°–£–†–°–û–í"
echo "----------------------------------------"
echo "üíæ –ü–∞–º—è—Ç—å:"
docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}\t{{.MemPerc}}" | head -10
echo ""

echo "üíΩ –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:"
docker system df
echo ""

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏
echo "3. üåê –°–ï–¢–ï–í–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê"
echo "----------------------------------------"
echo "üì° –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏ Docker:"
docker network inspect gitlab-network --format '{{range .Containers}}{{.Name}} - {{.IPv4Address}}{{"\n"}}{{end}}'
echo ""

echo "üîó –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:"
containers=("gitlab" "sonarqube" "gitlab-runner")
for container in "${containers[@]}"; do
    if docker ps | grep -q $container; then
        echo "‚úÖ $container: –∑–∞–ø—É—â–µ–Ω"
    else
        echo "‚ùå $container: –Ω–µ –∑–∞–ø—É—â–µ–Ω"
    fi
done
echo ""

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
echo "4. üöÄ –ü–†–û–í–ï–†–ö–ê –î–û–°–¢–£–ü–ù–û–°–¢–ò –°–ï–†–í–ò–°–û–í"
echo "----------------------------------------"

check_service() {
    local name=$1
    local url=$2
    local expected=$3
    
    echo -n "üîç $name: "
    if curl -s -f "$url" > /dev/null; then
        echo "‚úÖ –î–û–°–¢–£–ü–ï–ù"
        return 0
    else
        echo "‚ùå –ù–ï–î–û–°–¢–£–ü–ï–ù"
        return 1
    fi
}

check_service "GitLab" "http://gitlab.localdomain" "200"
check_service "SonarQube" "http://sonarqube.localdomain:9000" "200"

echo ""

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ GitLab Runner
echo "5. ‚öôÔ∏è –ü–†–û–í–ï–†–ö–ê GITLAB RUNNER"
echo "----------------------------------------"
if docker ps | grep -q gitlab-runner; then
    echo "‚úÖ GitLab Runner –∑–∞–ø—É—â–µ–Ω"
    docker-compose exec gitlab-runner gitlab-runner list 2>/dev/null || echo "‚ùå Runner –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
else
    echo "‚ùå GitLab Runner –Ω–µ –∑–∞–ø—É—â–µ–Ω"
fi
echo ""

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
echo "6. üìã –ê–ù–ê–õ–ò–ó –õ–û–ì–û–í –ù–ê –û–®–ò–ë–ö–ò"
echo "----------------------------------------"
services=("gitlab" "sonarqube" "gitlab-runner")
for service in "${services[@]}"; do
    echo "üîç –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –≤ $service:"
    docker-compose logs "$service" --tail=20 | grep -i error | head -5 || echo "   ‚úÖ –û—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
done
echo ""

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
echo "7. ‚ù§Ô∏è  –ü–†–û–í–ï–†–ö–ê –ó–î–û–†–û–í–¨–Ø –°–ï–†–í–ò–°–û–í"
echo "----------------------------------------"
for service in "${containers[@]}"; do
    health=$(docker inspect --format='{{.State.Health.Status}}' "$service" 2>/dev/null || echo "no health check")
    echo "üè• $service: $health"
done
echo ""

# 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ volumes
echo "8. üíæ –ü–†–û–í–ï–†–ö–ê VOLUMES"
echo "----------------------------------------"
docker volume ls | grep gitlab-setup
echo ""

# 9. –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
echo "9. üéØ –ò–¢–û–ì–û–í–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê"
echo "----------------------------------------"

ALL_OK=true

# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
if ! curl -s http://gitlab.localdomain > /dev/null; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: GitLab –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
    ALL_OK=false
fi

if ! curl -s http://sonarqube.localdomain:9000 > /dev/null; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: SonarQube –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
    ALL_OK=false
fi

if ! docker ps | grep -q gitlab-runner; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: GitLab Runner –Ω–µ –∑–∞–ø—É—â–µ–Ω"
    ALL_OK=false
fi

if [ "$ALL_OK" = true ]; then
    echo ""
    echo "üéâ –í–°–ï –°–ò–°–¢–ï–ú–´ –†–ê–ë–û–¢–ê–Æ–¢ –ù–û–†–ú–ê–õ–¨–ù–û!"
    echo ""
    echo "üåê –î–û–°–¢–£–ü–ù–´–ï –°–ï–†–í–ò–°–´:"
    echo "   ‚Ä¢ GitLab:       http://gitlab.localdomain"
    echo "   ‚Ä¢ SonarQube:    http://sonarqube.localdomain:9000"
    echo "   ‚Ä¢ –ü—Ä–æ–µ–∫—Ç—ã:      http://gitlab.localdomain/root/"
    echo ""
    echo "üöÄ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!"
else
    echo ""
    echo "‚ö†Ô∏è  –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ü–†–û–ë–õ–ï–ú–´!"
    echo "üí° –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫: ./troubleshoot.sh"
fi

echo ""
echo "=== –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê ==="
```

### –°–∫—Ä–∏–ø—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

```bash
#!/bin/bash
# troubleshoot.sh

echo "=== üõ†Ô∏è  –£–°–¢–†–ê–ù–ï–ù–ò–ï –ù–ï–ü–û–õ–ê–î–û–ö ==="

cd ~/gitlab-setup

# –§—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
log() {
    echo "üìù $(date): $1"
}

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ Docker
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ Docker..."
docker ps > /dev/null 2>&1
if [ $? -ne 0 ]; then
    echo "‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Docker. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:"
    echo "   - –ó–∞–ø—É—â–µ–Ω –ª–∏ Docker daemon"
    echo "   - –î–æ–±–∞–≤–ª–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –≥—Ä—É–ø–ø—É docker"
    echo "   - –ü—Ä–∞–≤–∞ –Ω–∞ /var/run/docker.sock"
    exit 1
fi
echo "‚úÖ Docker –¥–æ—Å—Ç—É–ø–µ–Ω"

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ docker-compose.yml
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ docker-compose..."
if [ ! -f "docker-compose.yml" ]; then
    echo "‚ùå –§–∞–π–ª docker-compose.yml –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi
echo "‚úÖ docker-compose.yml –Ω–∞–π–¥–µ–Ω"

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
log "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤..."
docker-compose down
sleep 5
docker-compose up -d

# 4. –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
log "–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤..."
sleep 30

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤..."
for service in gitlab sonarqube gitlab-runner; do
    if docker-compose ps | grep -q "$service.*Up"; then
        echo "‚úÖ $service –∑–∞–ø—É—â–µ–Ω"
    else
        echo "‚ùå $service –Ω–µ –∑–∞–ø—É—â–µ–Ω"
        echo "–õ–æ–≥–∏ $service:"
        docker-compose logs "$service" --tail=10
    fi
done

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏..."
docker network inspect gitlab-network > /dev/null 2>&1
if [ $? -ne 0 ]; then
    echo "‚ùå –°–µ—Ç—å gitlab-network –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –°–æ–∑–¥–∞–µ–º..."
    docker network create --driver=bridge --subnet=192.168.56.0/24 gitlab-network
fi

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ hosts —Ñ–∞–π–ª–∞
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ hosts —Ñ–∞–π–ª–∞..."
if ! grep -q "gitlab.localdomain" /etc/hosts; then
    echo "‚ùå –ó–∞–ø–∏—Å–∏ –≤ hosts —Ñ–∞–π–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –î–æ–±–∞–≤–ª—è–µ–º..."
    sudo tee -a /etc/hosts << EOL
192.168.56.10    gitlab.localdomain
192.168.56.20    sonarqube.localdomain
EOL
fi

# 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤..."
for port in 80 443 9000; do
    if netstat -tuln | grep -q ":$port "; then
        echo "‚ö†Ô∏è  –ü–æ—Ä—Ç $port –∑–∞–Ω—è—Ç"
    else
        echo "‚úÖ –ü–æ—Ä—Ç $port —Å–≤–æ–±–æ–¥–µ–Ω"
    fi
done

# 9. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
log "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤..."
echo "üíæ –°–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å: $(free -h | grep Mem | awk '{print $4}')"
echo "üíΩ –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ: $(df -h / | tail -1 | awk '{print $4}')"

# 10. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
log "–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞..."
./system-check.sh

echo ""
echo "‚úÖ –£–°–¢–†–ê–ù–ï–ù–ò–ï –ù–ï–ü–û–õ–ê–î–û–ö –ó–ê–í–ï–†–®–ï–ù–û"
```

### –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
#!/bin/bash
# manage-services.sh

case "$1" in
    start)
        echo "üöÄ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤..."
        cd ~/gitlab-setup
        docker-compose up -d
        ;;
    stop)
        echo "üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤..."
        cd ~/gitlab-setup
        docker-compose stop
        ;;
    restart)
        echo "üîÅ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤..."
        cd ~/gitlab-setup
        docker-compose restart
        ;;
    status)
        echo "üìä –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤..."
        cd ~/gitlab-setup
        docker-compose ps
        ;;
    logs)
        echo "üìã –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤..."
        cd ~/gitlab-setup
        docker-compose logs -f ${2:-gitlab}
        ;;
    backup)
        echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞..."
        cd ~/gitlab-setup
        docker-compose exec gitlab gitlab-backup create
        tar -czf backup-$(date +%Y%m%d-%H%M%S).tar.gz docker-compose.yml *.sh
        echo "‚úÖ –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω"
        ;;
    clean)
        echo "üßπ –û—á–∏—Å—Ç–∫–∞ –Ω–µ–Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö..."
        docker system prune -f
        docker volume prune -f
        ;;
    *)
        echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 {start|stop|restart|status|logs [service]|backup|clean}"
        exit 1
        ;;
esac
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WSL2 –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
#!/bin/bash
# optimize-wsl2.sh

echo "‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø WSL2 –î–õ–Ø DOCKER –†–ê–ó–†–ê–ë–û–¢–ö–ò"

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WSL2
cat > /mnt/c/Users/$USER/.wslconfig << 'EOF'
[wsl2]
# –õ–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤
memory=12GB
processors=6
swap=4GB
swapfile=%USERPROFILE%\wsl-swap.vhdx

# –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
localhostForwarding=true
dnsTunneling=true
firewall=true
autoProxy=true

# –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
pageReporting=true
kernelCommandLine=intel_pstate=disable

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
vmIdleTimeout=3600000

# –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
[experimental]
autoMemoryReclaim=dropcache
sparseVhd=true
dnsTunneling=true
hostAddressLoopback=true
EOF

echo "‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WSL2 –ø—Ä–∏–º–µ–Ω–µ–Ω–∞"
echo "üîÅ –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: wsl --shutdown && wsl"
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
#!/bin/bash
# monitor.sh

echo "üìä –†–ï–ê–õ–¨–ù–û–ï –í–†–ï–ú–Ø –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê"

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

while true; do
    clear
    echo -e "${YELLOW}=== üê≥ DOCKER MONITOR ===${NC}"
    echo "$(date)"
    echo ""
    
    # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
    echo -e "${YELLOW}üì¶ –°–¢–ê–¢–£–° –ö–û–ù–¢–ï–ô–ù–ï–†–û–í:${NC}"
    docker-compose ps
    
    echo ""
    echo -e "${YELLOW}üìä –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –†–ï–°–£–†–°–û–í:${NC}"
    docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}\t{{.MemUsage}}\t{{.MemPerc}}" | head -10
    
    echo ""
    echo -e "${YELLOW}üåê –î–û–°–¢–£–ü–ù–û–°–¢–¨ –°–ï–†–í–ò–°–û–í:${NC}"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ GitLab
    if curl -s http://gitlab.localdomain > /dev/null; then
        echo -e "GitLab: ${GREEN}‚úÖ ONLINE${NC}"
    else
        echo -e "GitLab: ${RED}‚ùå OFFLINE${NC}"
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ SonarQube
    if curl -s http://sonarqube.localdomain:9000 > /dev/null; then
        echo -e "SonarQube: ${GREEN}‚úÖ ONLINE${NC}"
    else
        echo -e "SonarQube: ${RED}‚ùå OFFLINE${NC}"
    fi
    
    echo ""
    echo -e "${YELLOW}üíæ –°–ò–°–¢–ï–ú–ù–´–ï –†–ï–°–£–†–°–´:${NC}"
    echo "–ü–∞–º—è—Ç—å: $(free -h | grep Mem | awk '{print $3 "/" $2 " (" $4 " —Å–≤–æ–±–æ–¥–Ω–æ)"}')"
    echo "–î–∏—Å–∫: $(df -h / | tail -1 | awk '{print $3 "/" $2 " (" $5 " –∑–∞–Ω—è—Ç–æ)"}')"
    
    echo ""
    echo -e "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞)..."
    sleep 10
done
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### üéØ –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ –≤ V7:

1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤** - —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU
2. **–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π** - LESS, CSS, HTML, JavaScript
3. **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** - –±—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∏ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
5. **–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞** - –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞
6. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
cd ~
mkdir gitlab-setup && cd gitlab-setup

# 2. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ (–∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é)
# 3. –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
chmod +x *.sh
./quick-deploy.sh

# 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞
./wait-for-gitlab.sh

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
./system-check.sh
```

### üìä –ö–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã:

- **GitLab**: http://gitlab.localdomain
- **SonarQube**: http://sonarqube.localdomain:9000  
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–º–æ—â–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: ./monitor.sh

### üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

```bash
./manage-services.sh start    # –ó–∞–ø—É—Å–∫
./manage-services.sh status   # –°—Ç–∞—Ç—É—Å
./manage-services.sh stop     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
./troubleshoot.sh            # –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
```

**–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –ø–æ–ª–Ω—ã–º —Ü–∏–∫–ª–æ–º CI/CD!** üéâ

–î–æ–±–∞–≤–ª—è—é –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã:

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CI/CD —Å SonarQube

### .gitlab-ci.yml –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```yaml
# .gitlab-ci.yml - –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
# üìç –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï: –ö–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitLab –ø—Ä–æ–µ–∫—Ç–∞
# üìÅ –ü—É—Ç—å: ~/web-dev-project/.gitlab-ci.yml
# üí° –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
# üí° –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è GitLab –ø—Ä–∏ –ø—É—à–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

stages:
  - test
  - quality
  - build
  - deploy

variables:
  SONAR_USER_HOME: "${CI_PROJECT_DIR}/.sonar"
  GIT_DEPTH: "0"
  NODE_VERSION: "18"

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–æ–∫
cache:
  key: "${CI_COMMIT_REF_SLUG}"
  paths:
    - node_modules/
    - .sonar/cache
    - dist/

# –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ SonarQube
sonarqube-analysis:
  stage: quality
  image: 
    name: sonarsource/sonar-scanner-cli:latest
    entrypoint: [""]
  variables:
    SONAR_SCANNER_OPTS: "-Xmx512m"
  before_script:
    # –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω
    - echo "192.168.56.20 sonarqube.localdomain" >> /etc/hosts
    - ping -c 2 sonarqube.localdomain
  script:
    - echo "üîç –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ SonarQube..."
    - sonar-scanner
      -Dsonar.projectKey=${CI_PROJECT_NAME}
      -Dsonar.projectName=${CI_PROJECT_NAME}
      -Dsonar.projectVersion=${CI_COMMIT_SHORT_SHA}
      -Dsonar.host.url=${SONAR_HOST_URL}
      -Dsonar.token=${SONAR_TOKEN}
      -Dsonar.sources=.
      -Dsonar.sourceEncoding=UTF-8
      -Dsonar.exclusions=node_modules/**,dist/**,**/*.min.js
      -Dsonar.tests=./tests
      -Dsonar.test.inclusions=**/*.test.js
      -Dsonar.javascript.lcov.reportPaths=coverage/lcov.info
      -Dsonar.coverage.exclusions=**/*.test.js,tests/**,node_modules/**
  artifacts:
    reports:
      codequality: gl-sonar-report.json
    paths:
      - .sonar/cache
    expire_in: 1 week
  allow_failure: false
  only:
    - main
    - merge_requests
  tags:
    - web
    - docker

# ... –æ—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞ ...
```

### sonar-project.properties

```properties
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SonarQube –¥–ª—è –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞
# üìç –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï: –ö–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitLab –ø—Ä–æ–µ–∫—Ç–∞  
# üìÅ –ü—É—Ç—å: ~/web-dev-project/sonar-project.properties
# üí° –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
# üí° –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è sonar-scanner –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞

sonar.projectKey=web-dev-project
sonar.projectName=Web Development Project
sonar.projectVersion=1.0

# –ü—É—Ç–∏ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É
sonar.sources=.,src,js
sonar.tests=./tests

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è
sonar.exclusions=node_modules/**,dist/**,**/*.min.js,**/*.min.css

# –ö–æ–¥–∏—Ä–æ–≤–∫–∞
sonar.sourceEncoding=UTF-8

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
sonar.html.file.suffixes=.html,.htm
sonar.css.file.suffixes=.css,.less
sonar.js.file.suffixes=.js

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è LESS –∞–Ω–∞–ª–∏–∑–∞
sonar.less.parser.less=src/less/main.less

# –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞
sonar.projectDescription=Web development project with GitLab CI/CD and SonarQube analysis
sonar.links.homepage=http://gitlab.localdomain/root/web-dev-project
sonar.links.ci=http://gitlab.localdomain/root/web-dev-project/-/pipelines
sonar.links.scm=http://gitlab.localdomain/root/web-dev-project.git
```

## –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p ~/web-dev-project/{css,js,src/less,dist}
cd ~/web-dev-project

# üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê:
# ~/web-dev-project/
# ‚îú‚îÄ‚îÄ .gitlab-ci.yml              üìç –ö–û–†–ï–ù–¨ - –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è GitLab –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# ‚îú‚îÄ‚îÄ sonar-project.properties    üìç –ö–û–†–ï–ù–¨ - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è sonar-scanner
# ‚îú‚îÄ‚îÄ package.json                üìç –ö–û–†–ï–ù–¨ - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è npm
# ‚îú‚îÄ‚îÄ index.html                  üìç –ö–û–†–ï–ù–¨ - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
# ‚îú‚îÄ‚îÄ css/                        üìÅ –ü–∞–ø–∫–∞ –¥–ª—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö CSS —Ñ–∞–π–ª–æ–≤
# ‚îú‚îÄ‚îÄ js/                         üìÅ –ò—Å—Ö–æ–¥–Ω—ã–µ JavaScript —Ñ–∞–π–ª—ã
# ‚îÇ   ‚îî‚îÄ‚îÄ app.js
# ‚îú‚îÄ‚îÄ src/less/                   üìÅ –ò—Å—Ö–æ–¥–Ω—ã–µ LESS —Ñ–∞–π–ª—ã
# ‚îÇ   ‚îî‚îÄ‚îÄ main.less
# ‚îî‚îÄ‚îÄ dist/                       üìÅ –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã)
#     ‚îú‚îÄ‚îÄ css/
#     ‚îî‚îÄ‚îÄ js/
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤

```bash
#!/bin/bash
# setup-web-project.sh

echo "üéØ –ù–ê–°–¢–†–û–ô–ö–ê –í–ï–ë-–ü–†–û–ï–ö–¢–ê –° –ü–†–ê–í–ò–õ–¨–ù–´–ú –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï–ú –§–ê–ô–õ–û–í"

cd ~/web-dev-project

echo "üìÅ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞..."
mkdir -p {css,js,src/less,dist/{css,js},tests}

echo "üìù –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞..."

# –°–æ–∑–¥–∞–Ω–∏–µ .gitlab-ci.yml –í –ö–û–†–ù–ï –ø—Ä–æ–µ–∫—Ç–∞
cat > .gitlab-ci.yml << 'EOF'
# üìç –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï: –ö–û–†–ï–ù–¨ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
# GitLab –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö
# –ù–µ –ø–µ—Ä–µ–º–µ—â–∞–π—Ç–µ –µ–≥–æ –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏!

stages:
  - test
  - quality
  - build

sonarqube-analysis:
  stage: quality
  image: sonarsource/sonar-scanner-cli:latest
  variables:
    SONAR_USER_HOME: "${CI_PROJECT_DIR}/.sonar"
  script:
    - sonar-scanner
  only:
    - main
  tags:
    - web

compile-less:
  stage: build
  image: node:18-alpine
  script:
    - npm install -g less
    - npx lessc src/less/main.less dist/css/main.css
  artifacts:
    paths:
      - dist/css/
  only:
    - main
  tags:
    - web
EOF

echo "‚úÖ .gitlab-ci.yml —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞"

# –°–æ–∑–¥–∞–Ω–∏–µ sonar-project.properties –í –ö–û–†–ù–ï –ø—Ä–æ–µ–∫—Ç–∞
cat > sonar-project.properties << 'EOF'
# üìç –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï: –ö–û–†–ï–ù–¨ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è  
# SonarScanner –∏—â–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
# –ù–µ –ø–µ—Ä–µ–º–µ—â–∞–π—Ç–µ –µ–≥–æ –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏!

sonar.projectKey=web-dev-project
sonar.projectName=Web Development Project
sonar.sources=.,src,js
sonar.exclusions=node_modules/**,dist/**,**/*.min.*
sonar.sourceEncoding=UTF-8
sonar.host.url=http://sonarqube.localdomain:9000
EOF

echo "‚úÖ sonar-project.properties —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞"

# –°–æ–∑–¥–∞–Ω–∏–µ package.json –í –ö–û–†–ù–ï –ø—Ä–æ–µ–∫—Ç–∞
cat > package.json << 'EOF'
{
  "name": "web-dev-project",
  "scripts": {
    "build": "lessc src/less/main.less dist/css/main.css"
  }
}
EOF

echo "‚úÖ package.json —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞"

# –°–æ–∑–¥–∞–Ω–∏–µ index.html –í –ö–û–†–ù–ï –ø—Ä–æ–µ–∫—Ç–∞
cat > index.html << 'EOF'
<!DOCTYPE html>
<html>
<head>
    <title>Web Project</title>
    <link rel="stylesheet" href="dist/css/main.css">
</head>
<body>
    <h1>Web Development Project</h1>
</body>
</html>
EOF

echo "‚úÖ index.html —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞"

# –°–æ–∑–¥–∞–Ω–∏–µ LESS —Ñ–∞–π–ª–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
cat > src/less/main.less << 'EOF'
@primary-color: #3498db;

body {
  background: @primary-color;
  color: white;
}
EOF

echo "‚úÖ main.less —Å–æ–∑–¥–∞–Ω –≤ src/less/"

echo ""
echo "üìã –ü–†–û–í–ï–†–ö–ê –°–¢–†–£–ö–¢–£–†–´ –ü–†–û–ï–ö–¢–ê:"
tree -a ~/web-dev-project

echo ""
echo "üéØ –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø –ü–û –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–Æ –§–ê–ô–õ–û–í:"
echo "‚úÖ .gitlab-ci.yml - –î–û–õ–ñ–ï–ù –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ö–û–†–ù–ï —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
echo "‚úÖ sonar-project.properties - –î–û–õ–ñ–ï–ù –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ö–û–†–ù–ï —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è" 
echo "‚úÖ GitLab –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç .gitlab-ci.yml –ø—Ä–∏ –ø—É—à–µ"
echo "‚úÖ SonarScanner –∏—â–µ—Ç sonar-project.properties –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞"
echo ""
echo "üöÄ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:"
echo "   cd ~/web-dev-project"
echo "   git init"
echo "   git add ."
echo "   git commit -m 'Initial commit'"
echo "   git remote add origin http://gitlab.localdomain/root/web-dev-project.git"
echo "   git push -u origin main"
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

```bash
#!/bin/bash
# check-project-structure.sh

echo "üîç –ü–†–û–í–ï–†–ö–ê –ü–†–ê–í–ò–õ–¨–ù–û–ì–û –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–Ø –§–ê–ô–õ–û–í"

cd ~/web-dev-project

echo "üìÅ –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ
critical_files=(".gitlab-ci.yml" "sonar-project.properties" "package.json" "index.html")

for file in "${critical_files[@]}"; do
    if [ -f "$file" ]; then
        echo "‚úÖ $file - –Ω–∞–π–¥–µ–Ω –≤ –∫–æ—Ä–Ω–µ (–ü–†–ê–í–ò–õ–¨–ù–û)"
    else
        echo "‚ùå $file - –û–¢–°–£–¢–°–¢–í–£–ï–¢ –≤ –∫–æ—Ä–Ω–µ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!)"
    fi
done

echo ""
echo "üìä –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:"
tree -I 'node_modules|dist|.git' ~/web-dev-project

echo ""
echo "üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–Æ:"
echo "   ‚Ä¢ .gitlab-ci.yml ‚Üí üìç –ö–û–†–ï–ù–¨ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
echo "   ‚Ä¢ sonar-project.properties ‚Üí üìç –ö–û–†–ï–ù–¨ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" 
echo "   ‚Ä¢ package.json ‚Üí üìç –ö–û–†–ï–ù–¨ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)"
echo "   ‚Ä¢ index.html ‚Üí üìç –ö–û–†–ï–ù–¨ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)"
echo "   ‚Ä¢ src/less/ ‚Üí üìÅ –ü–∞–ø–∫–∞ –¥–ª—è –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ LESS"
echo "   ‚Ä¢ js/ ‚Üí üìÅ –ü–∞–ø–∫–∞ –¥–ª—è JavaScript"
echo "   ‚Ä¢ dist/ ‚Üí üìÅ –ü–∞–ø–∫–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è)"
echo ""
echo "üöÄ –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –º–æ–∂–Ω–æ –ø—É—à–∏—Ç—å –≤ GitLab!"
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitLab - —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —à–∞–≥–∏

### –°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

```bash
#!/bin/bash
# setup-complete-project.sh

echo "üöÄ –ü–û–õ–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –ü–†–û–ï–ö–¢–ê –í GITLAB"

cd ~/web-dev-project

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
echo "1. üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞..."
./check-project-structure.sh

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git
echo ""
echo "2. üîß –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
git init
git config --local user.name "root"
git config --local user.email "root@gitlab.localdomain"

# 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
echo ""
echo "3. üì¶ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ Git..."
git add .

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ .gitlab-ci.yml –∏ sonar-project.properties –¥–æ–±–∞–≤–ª–µ–Ω—ã
echo ""
echo "4. üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤..."
if git status | grep -q ".gitlab-ci.yml"; then
    echo "‚úÖ .gitlab-ci.yml –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–º–º–∏—Ç"
else
    echo "‚ùå .gitlab-ci.yml –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–º–º–∏—Ç!"
fi

if git status | grep -q "sonar-project.properties"; then
    echo "‚úÖ sonar-project.properties –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–º–º–∏—Ç"
else
    echo "‚ùå sonar-project.properties –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–º–º–∏—Ç!"
fi

# 5. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
echo ""
echo "5. üíæ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞..."
git commit -m "Initial commit: Web project with CI/CD and SonarQube integration

- Added .gitlab-ci.yml for GitLab CI/CD pipeline
- Added sonar-project.properties for SonarQube analysis  
- Project structure for web development (HTML, LESS, JS)
- Ready for automated quality checks and LESS compilation"

# 6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo ""
echo "6. üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
git remote add origin http://gitlab.localdomain/root/web-dev-project.git

# 7. –ü—É—à –≤ GitLab
echo ""
echo "7. üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ GitLab..."
git push -u origin main

echo ""
echo "üéâ –ü–†–û–ï–ö–¢ –£–°–ü–ï–®–ù–û –ù–ê–°–¢–†–û–ï–ù –ò –û–¢–ü–†–ê–í–õ–ï–ù –í GITLAB!"
echo ""
echo "üìä –î–ê–õ–¨–ù–ï–ô–®–ò–ï –î–ï–ô–°–¢–í–ò–Ø:"
echo "   ‚Ä¢ –û—Ç–∫—Ä–æ–π—Ç–µ: http://gitlab.localdomain/root/web-dev-project"
echo "   ‚Ä¢ –ü–µ—Ä–µ–π–¥–∏—Ç–µ: Settings ‚Üí CI/CD ‚Üí Variables"
echo "   ‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:"
echo "     - SONAR_HOST_URL = http://sonarqube.localdomain:9000"
echo "     - SONAR_TOKEN = [–≤–∞—à_—Ç–æ–∫–µ–Ω_–∏–∑_sonarqube]"
echo "   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–π–ø–ª–∞–π–Ω: CI/CD ‚Üí Pipelines"
echo "   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∞–ª–∏–∑: http://sonarqube.localdomain:9000"
echo ""
echo "üìç –í–ê–ñ–ù–û: .gitlab-ci.yml –∏ sonar-project.properties –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ö–û–†–ù–ï –ø—Ä–æ–µ–∫—Ç–∞"
echo "   –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã GitLab CI/CD –∏ SonarQube"
```

## –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é —Ñ–∞–π–ª–æ–≤

### üìç –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ:

1. **`.gitlab-ci.yml`** - GitLab –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. **`sonar-project.properties`** - SonarScanner –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### üìÅ –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –≤ –∫–æ—Ä–Ω–µ:

3. **`package.json`** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Node.js –ø—Ä–æ–µ–∫—Ç–æ–≤
4. **`index.html`** - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–ê–ü–û–ö:

```
web-dev-project/
‚îú‚îÄ‚îÄ üìç .gitlab-ci.yml              # ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –í –ö–û–†–ù–ï
‚îú‚îÄ‚îÄ üìç sonar-project.properties    # ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –í –ö–û–†–ù–ï  
‚îú‚îÄ‚îÄ üìç package.json
‚îú‚îÄ‚îÄ üìç index.html
‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ less/
‚îÇ       ‚îî‚îÄ‚îÄ main.less
‚îú‚îÄ‚îÄ üìÅ js/
‚îÇ   ‚îî‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ üìÅ tests/
‚îî‚îÄ‚îÄ üìÅ dist/                       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è
    ‚îú‚îÄ‚îÄ css/
    ‚îî‚îÄ‚îÄ js/
```

### üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:

```bash
# –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –ø—É—à–µ–º –≤ GitLab
cd ~/web-dev-project
ls -la .gitlab-ci.yml sonar-project.properties

# –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
# -rw-r--r-- .gitlab-ci.yml
# -rw-r--r-- sonar-project.properties
```

–¢–µ–ø–µ—Ä—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ç–∫–æ —É–∫–∞–∑–∞–Ω–æ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏! üéØ
